Documentation of modelling decisions and unresolved problems of TNM-O_liver:
_____________________________________________________________________________________________________________________________

Reviewed decisions, ideas and unresolved problems (Johannes, Susanne, Thomas):

TNM-O_Anatomy.owl

1. Implementation of the definition of LiverRegionalLymphNode
--> Current solution: 
LiverRegionalLymphNode=
{	Leberhilus-LK				--		(currently no FMA-class identified)	
	hepatische (an A. hepatica.)LK		--		HepaticProperLymphNode rdfs:comment "FMAID: 277067"
	periportale (an V.portae)LK		--		HepatoportalLymphNode rdfs:comment "FMAID: 277271"
	an abdom. V.cava inf. LK		--		RetroCavalLymphNode+PrecavalLymphNode rdfs:comment "FMAID: 66174" + rdfs:comment "FMAID: 66173"
	'inferiorphrenicnodes' LK		--		(suboptimal) SubdiaphragmaticPreAorticLymphNode rdfs:comment "FMAID: 281254"	
} 
--> To discuss: Renal lymph node (subclass of Lateral Caval Lymph Node) FMAID: 276799, Intermediate lumbar lymph node (interaorticocaval lymph node) FMAID: 66175

2. General architecture of Representation of Lymphnodes:
--> Current solution: Lymphnode = {TumorEntity1RegionalLymphNode, TumorEntity2RegionalLymphNode, ..., LymphNodeOfAbdomen, LymphnodeOfThorax, ...}
--> To discuss: For the purpose of having a simpler structure and potentially easier maintenance Lymphnode = {TumorEntity1RegionalLymphNode, TumorEntity2RegionalLymphNode, ...}


3. Implementation of the construct 'Tumor with Invasion of larger branches of hepatic and portal veins'
--> Current solution: [...]included in some 'LargerBranchOfHepaticVein' subclassOf HepaticVein (FMA) or 'LargerBranchOfPortalVein' subclassOf PortalVein (FMA)
--> To discuss:	- Restriction of PortalVein to HepaticPortalVein
		- Different Implementation of term 'larger branches'


4. Implementation of the construct Neighboring Organ of Liver inlcuding Diaphragm
--> Current solution:	OrganAdjacentToLiver subclassOf Organ
			(List of organs adjacent to the liver according to FMA as subclasses:
			Anterior to:
				Descending aorta
				Inferior vena cava
			Direct left of:
				Ascending colon
				Gallbladder
				Right kidney
				Superior part of duodenum
				Transverse colon
			Direct right of:
				Body of stomach
			+ Diaphragm)

TNM-O_liver.owl

1. Implementation of naming conventions for HCC and Bile Duct Cancer
--> Current solution: Creation of a module LiverTumor for HCC, and HepaticBileDuctTumor for BileDuctCancer
--> To discuss: For clarity replacement of LiverTumor with HCC or HCCTumor or HepatocellularCarcinoma, or ...

2. General Design Principles for 'PrimaryTumor'-category:
2.1 Should the respective Tumor Entity (LiverTumor, ExocrinePancreasTumor, etc.) be defined or is this beyond the scope of the ontology?
--> Current solution: In some modules there is a definition such as:
		ExocrinePancreasTumor == PrimaryTumor
 						and ((('is bearer of' some ('projects onto' only 
   						 (GradeOfDifferentiationCannotBeAssessed or PoorlyDifferentiated or Undifferentiated)))
						and ('is included in' some SetOfPancreaticIslets)) or ('is included in' some ExocrinePancreas))	 
--> To discuss: - There is no definition of e.g. LiverTumor in TNM
		- The current implementations 'is included in' some AnatomicalStructure does not account for other tumors infiltrating these structures and is thus not narrow enough to only include Tumors originating from a specific site.
--> Similar Problem for e.g. LiverTumorAggregate ==	TumorAggregateClassifiedByMalignancy
							and ('is part of' some (MalignantAnatomicalStructure and ('has part' some LiverTumor)))
2.2 Implementation of ICD-O (localisation) Codes as rdf-comments for tumor entities in the format of ICD-O: X.yy
--> To discuss: Different naming conventions, e.g. ICD-O-ID, ICD-O_ID, ... 
2.3 General Modelling of different Tumors of a given entity
--> Current solution in Liver.owl: subclasses of LiverTumor are modells of all different different types of Tumors described in the T-category of TNM, without combining several of these in one class which corresponds to a certain TNM-Repres.-Artef. and without introducing a hierarchical structure 
--> To discuss:	- Pragmatic solution: Combination or hierarchical organisation with easiest structure with the benefit of in some cases less convoluted equivalent definitions, easier
		- Solution closer to 'reality', involving:
			- Structuring of types of tumors independent from their classification in T-category
			- Introduction of hierarchical layers only if the category used significantly reduces complexity   	  

3. Implementation of LiverTumorInfiltratingVisceralPeritoneum
--> Current solution: ==	LiverTumor
 				and (isBearerOf some (Confinement and (projectsOnto only Invasive)))
				and (isIncludedIn some VisceralPeritoneum)
--> To discuss: 'isIncludedIn' cannot seperate between infiltration per continuitatem and distant metastasis, this could be resolved by chosing a more narrow term (such as serosa of the liver) or modelling infiltration.  

TNM-O.owl

1. Implementaton of term 'vascular invasive'
--> Current solution: VascularInvasive subclassOf Invasive subclassOf ConfinementValueRegion, NonVascularInvasive subclassOf ConfinementValueregion    

2. Implementation of solitary and multiple tumors in one organ (e.g. liver)
--> Current solution: TumorCardinality subclassOf TumorQuality, [Solitary, Multiple] subclass(es)Of TumorCardinalityValueRegion subclassOf TumorQualityValueRegion 
--> To discuss:	- other naming convention (NumberOfRegionalTumorLesions, TumorMultiplicity, ...)
		- different way of modelling possibility of existence of multiple tumor within one organ

3. Implementation of Representational Artefacts for UICC tumor staging
--> Current solution: 

Issues involving other (previously created) tumor entity files:

Breast:

1. In TNM-O_Anatomy.owl: Implementation of BreastRegionalLymphNodes
--> Current solution: Incorrect, since too broad subsumption LymphNodeOfThorax subclassOf BreastRegionalLymphNode
___________________________________________________________________________________________________________________

Current unreviewed questions, ideas, decisions, issues:

TNM-O_Anatomy.owl


TNM-O_Liver.owl

1. PrimaryTumor subclasses need to be tweaked to eventually be disjoint
--> Radically different solution: Instead not making classes disjoint but using a rule after classification to opt for the highest T-category of all primary tumor classes that fit the individual

--> Möglicherweise Einführung von MultipleLiverTumorsMax5cm == [...] and 'is included in' only Liver / and 'has part' only (is included in' some Liver) ... 

--> generelle SOP die PrimaryTumor-Klassen so nah wie möglich an der Struktur des TNM-Texts zu modellieren?
		Bsp.: VascularInvasiveLiverTumorOfLargerBranchesOfHepaticAndPortalVeins:= LiverTumor
 												and ('has part' some ('is included in' some 
   												 (LargerBranchOfHepaticVein or LargerBranchOfPortalVein)))
		Andererseits bedeutet dies automatisch eine Gefäßinvasivität -> Da Gefäßinvasivität als TumorQuality modelliert wurde, kann das nicht erfasst werden ohne Gefäßinvasivität explizit zur Definition hinzuzufügen.
		Mögliche Lösung: VascularInvasive könnte so definiert werden, dass der zugehörige Tumor ein Gefäß infiltriert.	 

2. Umbenennung NoAssessmentOfPrimaryTumor in NotAssessedPrimaryTumor
--> Aktuell: NoAssessmentOfPrimaryTumor

3. Auslagerung von NoEvidenceOfPrimaryLiverTumor außerhalb von PrimaryTumor, ist streng genommen kein PrimaryTumor!
--> Aktuell: Geführt innerhalb von PrimaryTumor

4. Im Konstrukt bearer of some (projects onto only y), warum keine existential restriction nach projects onto?
and ('is bearer of' some (TumorCardinality and ('projects onto' only Multiple)))
and ('is bearer of' some ('projects onto' only SizeMoreThan5cm))
--- Evtl liegt das daran, dass durch das "'is bearer of' some" vor der Klammer schon 'projects onto' existenz-quantifiziert wird? -Johannes

5. Wird die KLasse Metastasis weiter definiert? MetastasisOfLiverTumor und Unterklassen müssen anders definiert werden, Metastasis sollte in das neue Konstrukt AnatomicalStructureClassifiedByMalignancy eingeordnet werden
--> Aktuell: Metastasis ist Unterklasse von AnatomicalStructureClassifiedByMalignancy, Klasse MalignantAnatomicalStructure gelöscht

6. Viele "oder" in Klassifikation machen Definition von LiverTumorTNM8_pT1,
        LiverTumorTNM8_pT2 und LiverTumorTNM8_pT4 (wie auch cT) relativ komplex. Lösen
        durch weitere Unterklassen bei LiverTumor (siehe auch Punkt 2)?

7. Test Individuals: Wie genau kann man mit Test Indivuals die Ontologie überprüfen? Also ob Tumor, Lymphknoten und Metastasen
         als richtige TNM Klassifizierung bestimmt wird?
--> Aktuell: Individuals TestTumor, TestLymphNodes und TestMetastasis wurden eingefügt

TNM-O:

1. PrimaryTumor 'NoEvidence' und 'NoAssessment' in allen Modulen unterschiedlich gelöst
Beispiel: NoEvidenceOfPrimaryTumor: 	ExocrinePankreasTumor and (isBearerOf some (projectsOnto only NoEvidence))
					BreastTumor and (isBearerOf some (AssessmentQuality and (projectsOnto some NoEvidence) and (projectsOnto only NoEvidence)))
--> Aktuell:	NoEvidenceOfPrimaryLiverTumor: LiverTumor and ('is bearer of' some ('projects onto' only NoEvidence)
		NoAssessmentOfPrimaryLiverTumor: NotAssessedMalignantAnatomicalStructure and LiverTumor

2. Warum ist 'Size' als bspw. TumorSize keine TumorQuality subclassOf ObjectQuality, sondern in der TNM-O als Size subclassPf Quality eingeordnet? 

3. To do: Abbildung der UICC-Stadieneinteilung für Tumoren auf Basis der TNM-Klassifikation
--> Frage: mit welcher Struktur wird der gesamte Tumor abgebildet, worauf sich dann die Stadieneinteilung beziehen könnte?
    - Auf die TNM Klassifikation. Tumor, Lymphknoten und Metastasen werden zuerst TNM-Code zugewiesen. Mit diesem Code kann eindeutig das UICC-Stadium bestimmt werden (Johannes)
--> Ist diese Klasse LiverTumorAggregate?
--> Vorgeschlagene Nomenklaturänderung:
		- LiverTumor --> LiverPrimaryTumor (bereits umgesetzt)

--> DONE. Definition wurde "gefreestyled". Beim nächsten Treffen Code Review

4. Wie funktioniert das Klassifizierungsprogramm?

Johannes' Verständnis des Programms:
    - Eingabe von TNMO-Version, Organ und Pfad zum Input File
    - Classifier zu gewähltem Organ und Version wird erstellt
        -> Entsprechende Ontologie wird geladen
    - Individuen mit Eigenschaften aus Input File wird erzeugt
        -> Tumor, Lymphknoten und Metastasen Individuen
    - Individuen werden klassifiziert
        -> Subclasses werden mit Reasoner berechnet
        -> (Genaue Funktionsweise ist mir auch nicht klar)
    - Klassifizierung wird zurückgegeben
    
